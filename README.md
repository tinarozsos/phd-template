# Comprehensive PhD documentation with R and Quarto

- [About](#about)
- [Template setup](#template-setup)
- [Template use](#template-use)
  * [Practical overview](#practical-overview)
  * [Research projects](#research-projects)
  * [Meeting notes](#meeting-notes)
  * [Reference management](#reference-management)
  * [Conference attendance](#conference-attendance)
  * [Funding](#funding)
  * [Other notes](#other-notes)
- [Customizing the template](#customizing-the-template)
- [Static encryption](#static-encryption)
- [Acknowledgements](#acknowledgements)

## About

This is a template for information management during a PhD.
The goal of this template is to create a searchable, structured, and comprehensive documentation of all aspects of a PhD.
The internal setup handles the organization of multiple research projects, meeting notes, references, conference attendance, research funding, and more.

All defaults can be modified, therefore the template is suitable for organizing any other long-term project with a lot of accumulated information.

For a preview of the site generated by the template, see [tinarozsos.github.io/phd-template/](https://tinarozsos.github.io/phd-template/).

## Template setup

1. Make sure your preferred R IDE ([Positron](https://positron.posit.co/download.html), [RStudio](https://posit.co/download/rstudio-desktop/)) and [Quarto](https://quarto.org/docs/get-started/) are installed
2. Click the "Use this template" button at the top of this repository to create a copy of this repository in your own GitHub account
3. Clone the repository to your local machine and open the project in your R IDE
4. Start modifying the defaults and adding your own content.

**Required packages:** `tidyverse`, `knitr`, (`grDevices`, `praise`, `cli`, `utils`)* 
*The last four packages are only required for the custom console message on start, and can be removed if you don't want to use that feature.

## Template use

The template is organized as a website, with a home page, a navigation bar, and various subpages.
The navigation bar includes a search button that allows you to search for any content across the website.

In terms of repository structure, the `.qmd` files follow the structure of the compiled site.
In addition, `_quarto.yml`, `templates.R`, `.Rprofile`, and the files in the `_extensions` folder define the internal working of the template.

Formatting of R code is handled on the project level by [Air](https://posit-dev.github.io/air/formatter.html).
The site can be published following the [Quarto documentation](https://quarto.org/docs/publishing/github-pages.html#github-action).
For local use only, the `quarto render` command creates a `_site/` folder in the repository, containing the compiled HTML files, which can be opened in a browser.

### Practical overview

The overview page is defined in `index.qmd`.
It is meant to provide both a short-term and long-term perspective.

1. Quick TO-DOs: a quick list of immediate to-dos (e.g. tasks for the day)
2. Timeline: a graphical overview of the timeline of the PhD to keep track of long-run goals
    - The deadlines and periods appearing in the timeline are defined in a `tribble()` in `index.qmd`. The figure, generated with `ggplot2`, is automatically updated based on the input data.
    - Vertical spacing can be adjusted by changing the `fig.height` argument of the code chunk.

### Research projects

Research projects live in two stages:

1. The *Ideas* section contains various research project ideas on one page. This is meant to be a brainstorming space, where ideas can be added, modified, and removed as they evolve. Entries can be generated by calling the `idea()` function, which saves opens `ideas.qmd` and adds a paste-able markdown chunk to the clipboard.
2. The *Research projects* section contains separate pages for each later-stage project that requires more structured and detailed documentation. This space is meant to be used as the project evolves from an idea into a full-fledged research paper. To generate a new project page, call the `paper(file_name)` function. All such files will be available from the navigation bar's *Research projects* dropdown.

### Meeting notes

To take notes during a meeting, call the function `meeting()`.
This generates a new `.qmd` file in the `meetings/` folder, with the current date as the file name and a pre-filled template.
The current date is also added to the clipboard in a paste-able format, so that it can be easily added to the file's YAML header.
Modify the YAML header as needed with the meeting title and participants.

The full list of meeting notes is displayed as a table on the *Meetings* page.
The table can be sorted based on title and date, and filtered based on the categories specified in the YAML header of each meeting file.
See the *Customizing the template* section below on how to modify the template and the YAML defaults.

### Reference management

To manage useful references and corresponding notes, the setup expects a `references.bib` BibTeX file in the repository.
Such a file can easily be generated in a reference manager such as Zotero.

In order to create a new file for notes on a source, call `add_ref(zkey)`, where `zkey` is the BibTeX key of the reference.
The reference list is compiled automatically on startup into the `ref` tibble.
This tibble is searchable with the general `find_ref()` function that applies regex matching to the BibTeX entries (by default looking at title and author; when `any = TRUE`, looking at the entire BibTeX entry).
This function is helpful for extracting the BibTeX key based on a search query.

`add_ref(zkey)` generates a `.qmd` file in the `references/` folder, with bibliographic information pre-filled in the header.
Add any notes about the reference as markdown text.

Generated reference files are displayed on the *References* page, where they can be sorted based on title and author, and filtered based on the categories specified in the YAML header of each reference file.
See the *Customizing the template* section below on how to modify the template and the YAML defaults.

### Conference attendance

The *Conferences* page is meant to keep track of past and upcoming conferences, and to organize the status of conference submissions.
Conferences are organized based on participation type (presenting, attending) and within that, chronologically.

### Funding

PhD programs often come with limited travel funding.
The *Funding* page is meant to keep track of the use of existing funds, as well as notes on additional funding opportunities.

The *Travel funding* section tabulates the use of existing funds.
The contents are defined in a `tribble` in `funding.qmd`, which requires specifying the available budget and the individual spending entries.
The table then calculates and displayes the remaining funding.

The *Grants* section is meant for notes on additional funding opportunities.

### Other notes

By default, the site contains a *Personal development* page on any other notes on self-development, including plans, links, and more.
In addition, the *Miscellaneous* dropdown and corresponding folder are meant to store any other files, pages, and small notes that do not fit elsewhere.
Any file added to the `misc/` folder will automatically be available from the *Miscellaneous* dropdown in the navigation bar.

## Customizing the template

-   edit `_quarto.yml` to change:
    -   website title
    -   navigation bars
    -   website format and theme
    -   any other available [Website Options](https://quarto.org/docs/reference/projects/websites.html)
- edit `.Rprofile` to change:
    -   if `templates.R` is automatically sourced on start
    -   the custom console startup message
- edit `templates.R` to change:
    -   the `idea` snippets generated by calling `idea()`
    -   the reference pages generated by calling `add_ref(zkey)` 
- edit `_extensions/meeting-template.qmd` to change the page generated by calling `meeting()`
- edit `_extensions/paper-template.qmd` to change the page generated by calling `paper()`

## Static encryption

Follow the instructions here to add password protection: https://github.com/robjhyndman/quarto-password

## Acknowledgements

- The original idea and initial setup of this template was based on Cynthia Huang's [Quarto Wiki Template](https://github.com/cynthiahqy/quarto-wiki-template), introduced in the posit::conf(2024) talk [Quarto for Knowledge Management](https://github.com/cynthiahqy/positconf2024).
- The idea for the template pages and page snippets was inspired by Emily Riederer's post on [Internal R packages](https://www.emilyriederer.com/post/team-of-packages/).
- The custom console message on start is a modified version of the one appearing in Dr. Mowinckel's [Customise your R startup message](http://drmowinckels.io/blog/2024/rproject/) blog post.
